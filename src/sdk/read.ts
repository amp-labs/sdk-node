/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { readDeliverResults } from "../funcs/readDeliverResults.js";
import { readRecords, RecordsAcceptEnum } from "../funcs/readRecords.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export { RecordsAcceptEnum } from "../funcs/readRecords.js";

export class Read extends ClientSDK {
  /**
   * Trigger a read
   *
   * @remarks
   * Triggers reading data from a SaaS instance. See [Trigger a read](https://docs.withampersand.com/define-integrations/read-actions#trigger-a-read) for details.
   */
  async records(
    request: operations.TriggerReadRequest,
    options?: RequestOptions & { acceptHeaderOverride?: RecordsAcceptEnum },
  ): Promise<operations.TriggerReadResponse> {
    return unwrapAsync(readRecords(
      this,
      request,
      options,
    ));
  }

  /**
   * Deliver results
   *
   * @remarks
   * If a read action has delivery mode set to onRequest, then use this endpoint to request for more results. Learn more in [Delivery modes](https://docs.withampersand.com/define-integrations/read-actions#delivery-modes).
   */
  async deliverResults(
    request: operations.DeliverResultsRequest,
    options?: RequestOptions,
  ): Promise<operations.DeliverResultsAPIProblem | undefined> {
    return unwrapAsync(readDeliverResults(
      this,
      request,
      options,
    ));
  }
}
